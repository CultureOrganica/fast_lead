# Fast Lead Widget

–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –≤–∏–¥–∂–µ—Ç –¥–ª—è —Å–±–æ—Ä–∞ –ª–∏–¥–æ–≤ —Å –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚ú® **–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π**: < 50KB –≤ —Å–∂–∞—Ç–æ–º –≤–∏–¥–µ
- üé® **–ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º—ã–π**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ü–≤–µ—Ç–∞, —Ç–µ–∫—Å—Ç—ã –∏ –ø–æ–ª—è
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π**: –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π**: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç XSS
- üåç **–û–º–Ω–∏–∫–∞–Ω–∞–ª—å–Ω—ã–π**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SMS, Email, VK, Telegram, WhatsApp
- üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä UTM-–º–µ—Ç–æ–∫

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä —Å hot-reload:

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173 –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### 3. –°–±–æ—Ä–∫–∞

–°–æ–±–µ—Ä–∏—Ç–µ production-–≤–µ—Ä—Å–∏—é:

```bash
npm run build
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –≤ –ø–∞–ø–∫–µ `dist/`:
- `fast-lead-widget.es.js` - ES –º–æ–¥—É–ª—å
- `fast-lead-widget.umd.js` - UMD –º–æ–¥—É–ª—å (–¥–ª—è `<script>` —Ç–µ–≥–∞)
- `fast-lead-widget.css` - –°—Ç–∏–ª–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```html
<!-- 1. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é -->
<script>
  window.FAST_LEAD_CONFIG = {
    apiUrl: 'https://api.fast-lead.ru',
    tenantId: 123,
    channel: 'web',
  };
</script>

<!-- 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∏–¥–∂–µ—Ç -->
<script src="https://cdn.fast-lead.ru/widget/fast-lead-widget.umd.js"></script>
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```javascript
window.FAST_LEAD_CONFIG = {
  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  apiUrl: 'https://api.fast-lead.ru',
  tenantId: 123,

  // –ö–∞–Ω–∞–ª –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
  channel: 'web', // 'web' | 'sms' | 'email' | 'vk' | 'telegram' | 'whatsapp'

  // –í–Ω–µ—à–Ω–∏–π –≤–∏–¥
  primaryColor: '#2563eb',
  position: 'bottom-right', // 'bottom-right' | 'bottom-left' | 'top-right' | 'top-left'
  theme: 'light', // 'light' | 'dark'

  // –¢–µ–∫—Å—Ç—ã
  formTitle: '–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏',
  formDescription: '–û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã, –º—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º',
  buttonText: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å',
  successMessage: '–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.',
  errorMessage: '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.',

  // –ü–æ–ª—è —Ñ–æ—Ä–º—ã
  fields: {
    name: true,    // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–µ "–ò–º—è"
    phone: true,   // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–µ "–¢–µ–ª–µ—Ñ–æ–Ω"
    email: true,   // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–µ "Email"
    vkId: false,   // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–µ "VK ID"
  },

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
  collectUtm: true,    // –°–æ–±–∏—Ä–∞—Ç—å UTM-–º–µ—Ç–∫–∏
  collectSource: true, // –°–æ–±–∏—Ä–∞—Ç—å URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã

  // –ö–æ–ª–ª–±—ç–∫–∏
  onSuccess: function(response) {
    console.log('Lead created:', response);
    // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
    // gtag('event', 'lead_submit', { lead_id: response.lead.id });
  },
  onError: function(error) {
    console.error('Error:', error);
  },
};
```

## API

### `FastLeadWidget`

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –≤–∏–¥–∂–µ—Ç–∞.

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```typescript
new FastLeadWidget(config: WidgetConfig)
```

#### –ú–µ—Ç–æ–¥—ã

- `init()` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–∂–µ—Ç
- `open()` - –û—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É
- `close()` - –ó–∞–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É
- `destroy()` - –£–¥–∞–ª–∏—Ç—å –≤–∏–¥–∂–µ—Ç –∏–∑ DOM

#### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```javascript
import { FastLeadWidget } from '@fast-lead/widget';

const widget = new FastLeadWidget({
  apiUrl: 'https://api.fast-lead.ru',
  tenantId: 123,
  channel: 'web',
});

widget.init();

// –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
widget.open();

// –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
widget.close();

// –£–¥–∞–ª–∏—Ç—å –≤–∏–¥–∂–µ—Ç
widget.destroy();
```

## –ö–∞–Ω–∞–ª—ã

### Web (`channel: 'web'`)
–û–Ω–ª–∞–π–Ω-—á–∞—Ç –Ω–∞ —Å–∞–π—Ç–µ. –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–º—è –∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∫–æ–Ω—Ç–∞–∫—Ç.

### SMS (`channel: 'sms'`)
–û—Ç–ø—Ä–∞–≤–∫–∞ SMS. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7XXXXXXXXXX.

### Email (`channel: 'email'`)
–û—Ç–ø—Ä–∞–≤–∫–∞ email. –¢—Ä–µ–±—É–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–π email-–∞–¥—Ä–µ—Å.

### VK (`channel: 'vk'`)
–°–æ–æ–±—â–µ–Ω–∏—è –í–ö–æ–Ω—Ç–∞–∫—Ç–µ. –¢—Ä–µ–±—É–µ—Ç—Å—è VK ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### Telegram (`channel: 'telegram'`)
Telegram-–±–æ—Ç. –¢—Ä–µ–±—É–µ—Ç—Å—è Telegram username –∏–ª–∏ ID.

### WhatsApp (`channel: 'whatsapp'`)
WhatsApp Business. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ–ª–µ—Ñ–æ–Ω –∏ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥.

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
widget/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts       # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ widget.ts      # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
‚îÇ   ‚îú‚îÄ‚îÄ ui.ts          # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ api.ts         # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts       # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ styles.ts      # –°—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ types.ts       # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ embed-example.html  # –ü—Ä–∏–º–µ—Ä –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ index.html         # –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ vite.config.ts
```

### –°–∫—Ä–∏–ø—Ç—ã

- `npm run dev` - –ó–∞–ø—É—Å—Ç–∏—Ç—å dev-—Å–µ—Ä–≤–µ—Ä
- `npm run build` - –°–æ–±—Ä–∞—Ç—å production –≤–µ—Ä—Å–∏—é
- `npm run preview` - –ü—Ä–æ—Å–º–æ—Ç—Ä production —Å–±–æ—Ä–∫–∏
- `npm run type-check` - –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript —Ç–∏–ø–æ–≤

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤

- Chrome/Edge 90+
- Firefox 88+
- Safari 14+
- Opera 76+

## –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - CultureOrganica
